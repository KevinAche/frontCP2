<p-toast></p-toast>
<section class="vh-100" style="padding: 55px;">
  <mat-card>
    <mat-card-title style="background-color:#1d3557; color:white; padding: 33px; border-radius: 5px">
      <div class="form-row">
        <div class="form-group col-md-9">
          <h1>GestiÃ³n Solicitudes</h1>
        </div>
        <div class="form-group col-md-3">

          <button (click)="desplegarResponsables()" type="submit" class="btn">Generar Solicitud</button>

        </div>
      </div>
    </mat-card-title>
    <p-table [value]="dataSolicitudes"
             [columns]="columnasSolicitudes"
             [paginator]="true"
             [rows]="3"
             [autoLayout]="true"
             [scrollable]="true"
             selectionMode="single">
      <ng-template pTemplate="header">
        <tr>
          <th *ngFor="let columna of columnasSolicitudes">
            {{columna.header}}
          </th>
        </tr>
      </ng-template>
      <ng-template pTemplate="body" let-dataSolicitudes>
        <tr [pSelectableRow]="dataSolicitudes">
          <td *ngFor="let col of columnasSolicitudes">
            <div [ngSwitch]="col.field">
              <span *ngSwitchCase="'fecha_emision'">{{dataSolicitudes[col.field] | date}}</span>
              <span *ngSwitchCase="'fecha_inicio'">{{dataSolicitudes[col.field] | date}}</span>
              <span *ngSwitchDefault>{{dataSolicitudes[col.field]}}</span>
            </div>
          </td>
        </tr>
      </ng-template>
    </p-table>

  </mat-card>
</section>

<p-dialog
  [(visible)]="dialogoResponsable"
  [style]="{width:'50vw'}"
  [draggable]="false"
  [baseZIndex]="10000"
  [modal]="true"
  styleClass="p-fluid">
  <ng-template pTemplate="header">
    <h2>Lista Responsables</h2>
  </ng-template>
  <ng-template pTemplate="content">
    <p-table
      [value]="dataResponsable"
      [columns]="columnasResponsable"
      [paginator]="true"
      [rows]="3"
      [autoLayout]="true"
      [(selection)]="dataRowResponsable"
      (onRowSelect)="onRowSelectResponsable($event)"
      (onRowUnselect)="onRowUnSelectResponsable($event)"
      [scrollable]="true"
      selectionMode="single">
      <ng-template pTemplate="header">
        <tr>
          <th *ngFor="let columna of columnasResponsable">
            {{columna.header}}
          </th>
        </tr>
      </ng-template>

    </p-table>
  </ng-template>
</p-dialog>
